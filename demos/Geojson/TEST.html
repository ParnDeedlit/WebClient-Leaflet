<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Transform</title>
    <script includes="leaflet" src="../../libs/zondyclient/include-leaflet.js"></script>
    <script src="../../js/geojson.min.js"></script>
    <script src="../../js/jquery-3.3.1.js"></script>
    <script src="../../js/leaflet.js"></script>
    <style>
        #mapid{height:600px}
    </style>
</head>
<body>
<div id="mapid"></div>
<script>
    var mymap = L.map('mapid').setView([30.594183452544694,114.28939819335936], 11);
    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' +
        'sk.eyJ1IjoiY2hlbmdkYWRhIiwiYSI6ImNqZDFjaGo0ZjFzcnoyeG54enoxdnNuZHUifQ.hTWXXBUQ0wdGeuDF3GWeUw', {
        attribution: '<a href="#">AMikealson</a>',
        maxZoom: 18,
        id: 'mapbox.streets',
        accessToken: 'your.mapbox.access.token'
    }).addTo(mymap);

    $.ajax({
        url:"../../data/json/xian.json",
        type:"GET",
        datatype:"json",
        async:false,
        success:function(data){
            var geojson = JSON.parse(xian.jaon);
            var result = data;
            output(result);
        },
        error:function(){
            alert = ("请求失败");
        }
    });

    function output(data) {

        var transform = GeoJSON.parse(data, {Point:['lat','lng']});
        var myStyle = {
            "color": "#ff7800",
            "weight": 5
        };
        L.geoJSON(transform,{style:myStyle}).addTo(mymap);
    }




</script>
</body>
</html>





